<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch using post API</title>
</head>

<body>
    <script>

        const addNewPost = async () => {
           // Define the new post
            const postObj = {
                title: 'foo',
                body: 'bar',
                userId: 1
            };

            try {
                // Send POST req to  API
                const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json' // set content type 'JSON'
                    },
                    body: JSON.stringify(postObj) // Convert postObj to JSON 
                });

                //check req success 'status code within 200'

                if (!response.ok) {
                    throw new Error('Failed to add post');
                }

                //Parse the response body as JSON

                var newPost = await response.json();
                console.log('New added post:', newPost);
             } 
            catch (error) {
                console.error('Error adding post:', error);
            }
        };

        addNewPost();

    </script>

</body>

</html>